<!DOCTYPE html>
<html lang="es">
<head>
    <title>Blueprints</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Solo Bootstrap CSS desde CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
        .container {
            margin-top: 20px;
        }
        .form-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .results-section {
            margin-top: 20px;
        }
        #blueprints-table {
            margin-top: 15px;
        }
        .total-points {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            text-align: center;
        }
        .btn-open {
            min-width: 70px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>Blueprint Management System <small>Gestión de Planos Arquitectónicos</small></h1>
        </div>
        
        <div class="form-section">
            <h3>Consultar Planos por Autor</h3>
            <div class="row">
                <div class="col-md-8">
                    <div class="form-group">
                        <label for="author-input">Nombre del Autor:</label>
                        <input type="text" id="author-input" class="form-control" 
                               placeholder="Ingrese el nombre del autor (ej: juan, ana, carlos, maria)">
                    </div>
                </div>
                <div class="col-md-4">
                    <label>&nbsp;</label><br>
                    <button id="get-blueprints" class="btn btn-primary btn-lg btn-block">
                        <span class="glyphicon glyphicon-search"></span> Get blueprints
                    </button>
                </div>
            </div>
        </div>

        <div class="results-section">
            <div id="author-name"></div>
            
            <div id="table-container" style="display: none;">
                <table id="blueprints-table" class="table table-striped table-bordered table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th><span class="glyphicon glyphicon-file"></span> Nombre del Plano</th>
                            <th><span class="glyphicon glyphicon-th"></span> Número de Puntos</th>
                            <th><span class="glyphicon glyphicon-cog"></span> Acción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filas de planos aquí -->
                    </tbody>
                </table>
            </div>

            <!-- Botones de administración de planos -->
            <div id="blueprint-actions" class="panel panel-default" style="display: none; margin-top: 20px;">
                <div class="panel-heading">
                    <h3 class="panel-title"><span class="glyphicon glyphicon-wrench"></span> Administración de Planos</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-4">
                            <button id="create-blueprint" class="btn btn-success btn-block">
                                <span class="glyphicon glyphicon-plus"></span> Create new blueprint
                            </button>
                        </div>
                        <div class="col-md-4">
                            <button id="save-blueprint" class="btn btn-primary btn-block" disabled>
                                <span class="glyphicon glyphicon-floppy-disk"></span> Save/Update
                            </button>
                        </div>
                        <div class="col-md-4">
                            <button id="delete-blueprint" class="btn btn-danger btn-block" disabled>
                                <span class="glyphicon glyphicon-trash"></span> DELETE
                            </button>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 10px;">
                        <div class="col-md-12">
                            <div id="current-blueprint-info" class="alert alert-info" style="display: none;">
                                <strong>Plano actual:</strong> <span id="current-blueprint-name"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="total-points" class="total-points" style="display: none;"></div>
        </div>

        <!-- Información de ayuda -->
        <div class="panel panel-info" style="margin-top: 30px;">
            <div class="panel-heading">
                <h3 class="panel-title"><span class="glyphicon glyphicon-info-sign"></span> Información</h3>
            </div>
            <div class="panel-body">
                <p><strong>Autores disponibles:</strong> juan, ana, carlos, maria</p>
                <p><strong>Funcionalidades:</strong></p>
                <ul>
                    <li>Consulte los planos de un autor específico ingresando su nombre</li>
                    <li>Vea el total de puntos de todos los planos del autor</li>
                    <li>Haga clic en "Open" para visualizar el dibujo del plano</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Scripts al final del body para mejor rendimiento -->
    <!-- Primero jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    
    <!-- Luego Bootstrap (que depende de jQuery) -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <!-- Finalmente nuestros scripts -->
    <script src="js/apimock.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
